(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(7),o=a.n(r),i=(a(13),a(1)),l=a(2),c=a(4),u=a(3),m=a(5),p=(a(15),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onCancel=function(e){a.props.setRoute("start")},a.onContentChange=function(e){a.setState({content:e.target.value})},a.onFeatureChange=function(e){var t=document.getElementsByName("featureSelector")[0],n=Array.from(t.selectedOptions).map(function(e){return e.value})[0];a.setState({feature_id:n})},a.onLanguageChange=function(e){var t=document.getElementsByName("languageSelector")[0],n=Array.from(t.selectedOptions).map(function(e){return e.value})[0];a.setState({language_id:n})},a.onSourceChange=function(e){a.setState({source:e.target.value})},a.onSubmit=function(e){var t=a.state,n=t.content,s=t.feature_id,r=t.language_id,o=t.user,i=t.source;n&&s&&r&&(o?fetch("https://codeswitch-api.herokuapp.com/code_samples",{body:JSON.stringify({content:n,feature_id:s,language_id:r,source:i,user_id:o.id}),headers:{"Content-Type":"application/json"},method:"post"}).then(function(e){e.ok?a.props.setRoute("start"):alert("Server couldn't add code sample.")}).catch(function(e){return alert("Server can't be reached.")}):alert("Ooop! Please sign in or sign up first."))},a.state={content:"",feature_id:"",language_id:"",source:"",user:a.props.user},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.languages.map(function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.name)}),t=this.props.features.map(function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.name)});return s.a.createElement("div",null,s.a.createElement("main",{className:"pa4 black-80"},s.a.createElement("div",{className:"measure-wide center"},s.a.createElement("fieldset",{id:"code-sample-form",className:"ba b--transparent ph0 mh0"},s.a.createElement("h1",{className:"night"},"new code sample"),s.a.createElement("div",{className:"mt3 night"},s.a.createElement("textarea",{autoFocus:!0,className:"pa2 input-reset bn w-100",id:"content",name:"content",onChange:this.onContentChange,placeholder:"your awesome code",rows:"20"})),s.a.createElement("div",null,s.a.createElement("label",{className:"di fw6 lh-copy f6 pa2 white",htmlFor:"language"},"Language"),s.a.createElement("select",{className:"mv1 ph1 pv2 dib v-mid",name:"languageSelector",onChange:this.onLanguageChange,value:this.state.language_id},s.a.createElement("option",{disabled:!0,value:""}),e)),s.a.createElement("div",null,s.a.createElement("label",{className:"di fw6 lh-copy f6 pa2 white",htmlFor:"feature"},"Feature"),s.a.createElement("select",{className:"mv1 ph1 pv2 dib v-mid",name:"featureSelector",onChange:this.onFeatureChange,value:this.state.feature_id},s.a.createElement("option",{disabled:!0,value:""}),t)),s.a.createElement("div",{className:"mt3 night"},s.a.createElement("label",{className:"di fw6 lh-copy f6 pa2 white",htmlFor:"source"},"Source"),s.a.createElement("input",{autoFocus:!0,className:"pa2 input-reset bn measure w-100",id:"source",name:"source",onChange:this.onSourceChange,placeholder:"credit or source if you didn't write this code"}))),s.a.createElement("div",{className:"ma1"},s.a.createElement("button",{className:"bn dib f5 dim grow link mb2 mr4 night ph2 pv1 underline white-40",onClick:this.onCancel},"cancel"),s.a.createElement("input",{className:"b ba bw0 dib f5 grow input-reset ph3 pointer pv2 bg-green white",onClick:this.onSubmit,type:"submit",value:"Done"})))))}}]),t}(s.a.Component)),d=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onCancel=function(e){a.props.setRoute("start")},a.onNameChange=function(e){a.setState({name:e.target.value})},a.onDescriptionChange=function(e){a.setState({description:e.target.value})},a.onSubmit=function(){return a.props.onFeatureSubmit(a.state.name,a.state.description,a.state.user)},a.state={name:"",description:"",user:a.props.user},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("main",{className:"pa4 black-80"},s.a.createElement("div",{className:"measure-wide center"},s.a.createElement("fieldset",{id:"code-sample-form",className:"ba b--transparent ph0 mh0"},s.a.createElement("h1",{className:"night"},"new feature"),s.a.createElement("div",{className:"mt3 night"},s.a.createElement("input",{autoFocus:!0,className:"pa2 input-reset bn w-100",id:"name",name:"name",onChange:this.onNameChange,placeholder:"name of new feature"})),s.a.createElement("div",{className:"mt3 night"},s.a.createElement("input",{className:"pa2 input-reset bn w-100",id:"description",name:"description",onChange:this.onDescriptionChange,placeholder:"description of feature"}))),s.a.createElement("div",{className:"ma1"},s.a.createElement("button",{className:"bn dib f5 dim grow link mb2 mr4 night ph2 pv1 underline white-40",onClick:this.onCancel},"cancel"),s.a.createElement("input",{className:"b ba bw0 dib f5 grow input-reset ph3 pointer pv2 bg-green white",onClick:this.onSubmit,type:"submit",value:"Done"})))))}}]),t}(s.a.Component),h=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onCancel=function(e){a.props.setRoute("start")},a.onNameChange=function(e){a.setState({name:e.target.value})},a.onSubmit=function(){return a.props.onLanguageSubmit(a.state.name,a.props.user)},a.state={name:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("main",{className:"pa4 black-80"},s.a.createElement("div",{className:"measure-wide center"},s.a.createElement("fieldset",{id:"code-sample-form",className:"ba b--transparent ph0 mh0"},s.a.createElement("h1",{className:"night"},"new language"),s.a.createElement("div",{className:"mt3 night"},s.a.createElement("input",{autoFocus:!0,className:"pa2 input-reset bn w-100",id:"name",name:"name",onChange:this.onNameChange,placeholder:"name of new language"}))),s.a.createElement("div",{className:"ma1"},s.a.createElement("button",{className:"bn dib f5 dim grow link mb2 mr4 night ph2 pv1 underline white-40",onClick:this.onCancel},"cancel"),s.a.createElement("input",{className:"b ba bw0 dib f5 grow input-reset ph3 pointer pv2 bg-green white",onClick:this.onSubmit,type:"submit",value:"Done"})))))}}]),t}(s.a.Component),g=function(e){var t=e.setUser,a=e.onHomeClick,n=e.setRoute,r=e.user;return s.a.createElement("div",{className:"flex justify-between items-center"},s.a.createElement("button",{className:"bn link dim dib grow night",onClick:a,title:"home"},s.a.createElement("span",{className:"f3 night"},"c"),s.a.createElement("span",{className:"f3 day"},"s")),!!r&&s.a.createElement("div",null,s.a.createElement("button",{className:"ba br-pill day dib dim f6 grow link ma1 ph2 pv1",onClick:function(){return n("languageForm")},title:"Add Language"},"+L"),s.a.createElement("button",{className:"ba br-pill day dib dim f6 grow link ma1 ph2 pv1",onClick:function(){return n("featureForm")},title:"Add Feature"},"+F"),s.a.createElement("button",{className:"ba br-pill day dib dim f6 grow link ma1 ph2 pv1",onClick:function(){return n("codeSampleForm")},title:"Add Code Sample"},"+C"),s.a.createElement("span",{className:"f4"},r.username),s.a.createElement("button",{className:"ba dib dim br-pill f6 grow link ma1 night ph2 pv1",onClick:function(){return t(null)},title:"Logout"},"x"))||s.a.createElement("button",{className:"bn f4 dim dib link grow night underline",onClick:function(){n("signin")}},"sign in"))},f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onCancel=a.props.hideVoteForm,a.onCorrectnessChange=function(e){a.setState({correctness:e.target.value})},a.onDesignChange=function(e){a.setState({design:e.target.value})},a.onStyleChange=function(e){a.setState({style:e.target.value})},a.onSubmit=function(e){var t=a.state,n=t.correctness,s=t.design,r=t.style,o=a.props,i=o.cs_id,l=o.hideVoteForm,c=o.resetCodeSample,u=o.user_id;n&&i&&s&&r&&(u?fetch("https://codeswitch-api.herokuapp.com/vote",{body:JSON.stringify({correctness:n,cs_id:i,design:s,style:r,user_id:u}),headers:{"Content-Type":"application/json"},method:"post"}).then(function(e){e.ok?(c(),l()):alert("Vote submit failed.")}).catch(function(e){return alert("Server can't be reached.")}):alert("Ooops! Please sign in or sign up first."))},a.ref=s.a.createRef(),a.state={correctness:"novote",design:"novote",style:"novote"},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.ref.current.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){return s.a.createElement("div",{ref:this.ref},s.a.createElement("main",{className:"pa4 black-80"},s.a.createElement("div",{className:"measure-wide center"},s.a.createElement("fieldset",{id:"vote-form",className:"ba b--transparent ph0 mh0"},s.a.createElement("h1",{className:"night"},"vote"),s.a.createElement("div",{className:"mb5 white"},s.a.createElement("h2",{className:"white"},"Correctness"),s.a.createElement("label",{className:"db ma3 white-50"},"The code sample works."),s.a.createElement("input",{name:"correctness",onChange:this.onCorrectnessChange,type:"radio",value:"upvote"}),"Upvote",s.a.createElement("br",null),s.a.createElement("input",{name:"correctness",onChange:this.onCorrectnessChange,type:"radio",value:"novote"}),"Novote",s.a.createElement("br",null),s.a.createElement("input",{name:"correctness",onChange:this.onCorrectnessChange,type:"radio",value:"downvote"}),"Downvote",s.a.createElement("br",null)),s.a.createElement("div",{className:"mb5 white"},s.a.createElement("h2",{className:"white"},"Design"),s.a.createElement("label",{className:"db ma3 white-50"},"The code sample indicates when it should be used. It is a good pattern for usage, and contains other good patterns for usage (if appropriate). Symbols or variables (if used) are named well. The majority in the given language community would consider this an ideal implementation for it's stated time and place."),s.a.createElement("input",{name:"design",onChange:this.onDesignChange,type:"radio",value:"upvote"}),"Upvote",s.a.createElement("br",null),s.a.createElement("input",{name:"design",onChange:this.onDesignChange,type:"radio",value:"novote"}),"Novote",s.a.createElement("br",null),s.a.createElement("input",{name:"design",onChange:this.onDesignChange,type:"radio",value:"downvote"}),"Downvote",s.a.createElement("br",null)),s.a.createElement("div",{className:"mb5 white"},s.a.createElement("h2",{className:"white"},"Style"),s.a.createElement("label",{className:"db ma3 white-50"},"The code sample shows good punctuation, spacing and syntax. It looks good!   It's what the majority in the given language community would expect to see."),s.a.createElement("input",{name:"style",onChange:this.onStyleChange,type:"radio",value:"upvote"}),"Upvote",s.a.createElement("br",null),s.a.createElement("input",{name:"style",onChange:this.onStyleChange,type:"radio",value:"novote"}),"Novote",s.a.createElement("br",null),s.a.createElement("input",{name:"style",onChange:this.onStyleChange,type:"radio",value:"downvote"}),"Downvote",s.a.createElement("br",null))),s.a.createElement("div",{className:"ma1"},s.a.createElement("button",{className:"bn dib f5 dim grow link mb2 mr4 night ph2 pv1 underline white-40",onClick:this.onCancel},"cancel"),s.a.createElement("input",{className:"b ba bw0 dib f5 grow input-reset ph3 pointer pv2 bg-green white",onClick:this.onSubmit,type:"submit",value:"Done"})))))}}]),t}(s.a.Component),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getCorrectnessVotes=function(){var e=a.state.codeSample;return e.correctness_upvotes.length-e.correctness_downvotes.length},a.getDesignVotes=function(){var e=a.state.codeSample;return e.design_upvotes.length-e.design_downvotes.length},a.getStyleVotes=function(){var e=a.state.codeSample;return e.style_upvotes.length-e.style_downvotes.length},a.getUpvotes=function(){var e=a.state.codeSample;return e.correctness_upvotes.length+e.design_upvotes.length+e.style_upvotes.length},a.getDownvotes=function(){var e=a.state.codeSample;return e.correctness_downvotes.length+e.design_downvotes.length+e.style_downvotes.length},a.hideVoteForm=function(){a.setState({voteFormIsVisible:!1})},a.onVoteClick=function(){var e=!a.state.voteFormIsVisible,t=a.props.user;!1===e?a.setState({voteFormIsVisible:!1}):t?a.setState({voteFormIsVisible:!0}):(alert("Please sign in to vote."),a.setState({voteFormIsVisible:!1}))},a.resetCodeSample=function(){a.setState({codeSample:null})},a.state={cs_id:a.props.initialCodeSample.id,codeSample:a.props.initialCodeSample,voteFormIsVisible:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;this.state.codeSample||fetch("https://codeswitch-api.herokuapp.com/code_samples/"+this.state.cs_id).then(function(e){return e.json()}).then(function(e){return a.setState({codeSample:e})}).catch(function(e){return alert("Server error: couldn't reload code sample.")})}},{key:"render",value:function(){var e,t=this.props,a=t.user,n=t.username,r=this.state,o=r.codeSample;return e=r.voteFormIsVisible&&o?s.a.createElement(f,{user_id:a.id,cs_id:o.id,hideVoteForm:this.hideVoteForm,resetCodeSample:this.resetCodeSample}):null,o?s.a.createElement("div",{className:"pa3"},s.a.createElement("pre",null,s.a.createElement("code",null,o.content)),s.a.createElement("div",{className:"flex justify-between"},s.a.createElement("div",{className:"measure-narrow"},s.a.createElement("div",{className:"flex justify-between"},s.a.createElement("div",{className:"dib mr3"},s.a.createElement("span",{"aria-label":"upvote",role:"img",title:"upvote"},"\u25b2"),s.a.createElement("span",null,this.getUpvotes())),s.a.createElement("div",{className:"dib mr3"},s.a.createElement("span",{"aria-label":"downvote",role:"img",title:"downvote"},"\u25bc"),s.a.createElement("span",null,this.getDownvotes())),s.a.createElement("div",{className:"mr3"},s.a.createElement("span",{"aria-label":"Correctness",role:"img",title:"Correctness"},"\u2713"),s.a.createElement("span",null,this.getCorrectnessVotes())),s.a.createElement("div",{className:"mr3"},s.a.createElement("span",{"aria-label":"Design",role:"img",title:"Design"},"\ud83d\udcd0"),s.a.createElement("span",null,this.getDesignVotes())),s.a.createElement("div",{className:"mr3"},s.a.createElement("span",{className:"stylized-cursive",title:"Style"},"S"),s.a.createElement("span",null,this.getStyleVotes())),s.a.createElement("div",{className:"mr3"},s.a.createElement("button",{className:"bn dim dib f6 link grow night underline",onClick:this.onVoteClick},"vote")))),s.a.createElement("div",null,n)),e):s.a.createElement("div",null,"Reloading code sample.")}}]),t}(n.Component),b=function(e){var t,a=e.code_samples,n=e.feature,r=e.language,o=e.setRoute,i=e.user,l=e.usernames,c=n?n.name:"Unknown Feature",u=r?r.name:"Unknown Language";return t=a.length?a.map(function(e){var t=l.find(function(t){return t.id===e.user_id}),a=t?t.username:"Unknown User";return s.a.createElement(v,{key:e.id,initialCodeSample:e,setRoute:o,user:i,username:a})}):s.a.createElement("div",null,"No results."),s.a.createElement("div",{className:"mb5"},s.a.createElement("h2",null,u," ",c),t)},E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).languageFeatureGroups=function(){var e=a.props,t=e.features,n=e.languages,s=a.props.feature_ids.map(function(e){return parseInt(e)}),r=a.props.language_ids.map(function(e){return parseInt(e)});return s.map(function(e){return r.map(function(t){return[t,e]})}).flat().map(function(e){return{feature:t.find(function(t){return t.id===e[1]}),language:n.find(function(t){return t.id===e[0]}),code_samples:a.state.results.filter(function(t){return t.feature_id===e[1]&&t.language_id===e[0]})}})},a.state={results:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchResults(this.props.feature_ids,this.props.language_ids)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.feature_ids,n=t.language_ids;a===e.feature_ids&&n===e.language_ids||this.fetchResults(a,n)}},{key:"describeResults",value:function(){var e=this.state.results.length;return 0===e?"No results":1===e?"1 result":"".concat(e," results")}},{key:"fetchResults",value:function(e,t){var a=this;fetch("https://codeswitch-api.herokuapp.com/code_samples/search",{body:JSON.stringify({feature_ids:e,language_ids:t}),headers:{"Content-Type":"application/json"},method:"post"}).then(function(e){return e.json()}).then(function(e){return a.setState({results:e})}).catch(function(e){return alert("Server couldn't retrieve results.")})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"f6 white-50"},this.describeResults()),this.languageFeatureGroups().map(function(t,a){return s.a.createElement(b,{key:a,feature:t.feature,language:t.language,code_samples:t.code_samples,setRoute:e.props.setRoute,user:e.props.user,usernames:e.props.usernames})}))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).get_language_options=function(){return a.props.languages.map(function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.name)})},a.get_feature_options=function(){return a.props.features.map(function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.name)})},a.onFeatureChange=function(){var e=document.getElementsByName("feature_ids")[0],t=Array.from(e.selectedOptions).map(function(e){return e.value});a.setState({feature_ids:t})},a.onLanguageChange=function(){var e=document.getElementsByName("language_ids")[0],t=Array.from(e.selectedOptions).map(function(e){return e.value});a.setState({language_ids:t})},a.onSubmit=function(){var e=a.props.setSearch,t=a.state,n=t.feature_ids,s=t.language_ids;0!==n.length&&0!==s.length&&e(n,s)},a.state={feature_ids:e.feature_ids,language_ids:e.language_ids},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("select",{className:"mv1 ph1 pv2 dib v-mid",multiple:!0,name:"language_ids",onChange:this.onLanguageChange,size:"3",value:this.state.language_ids},this.get_language_options()),s.a.createElement("select",{className:"mv1 ph1 pv2 dib v-mid",multiple:!0,name:"feature_ids",onChange:this.onFeatureChange,size:"3",value:this.state.feature_ids},this.get_feature_options()),s.a.createElement("button",{onClick:this.onSubmit,className:"f6 link dim ba br2 ph3 pv2 ma2 dib grow night v-mid"},"go"))}}]),t}(n.Component),C=function(e){var t=e.features,a=e.feature_ids,n=e.languages,r=e.language_ids,o=e.setRoute,i=e.setSearch,l=e.user,c=e.usernames;return s.a.createElement("div",null,s.a.createElement(w,{features:t,feature_ids:a,languages:n,language_ids:r,setSearch:i}),s.a.createElement(E,{features:t,feature_ids:a,languages:n,language_ids:r,setRoute:o,user:l,usernames:c}))},N=function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"pt5 pb0"},s.a.createElement("span",{className:"f1 night"},"code"),s.a.createElement("span",{className:"f1 day"},"switch")),s.a.createElement("div",{className:"pa4 f4"},"Learn and compare programming languages."))},y=function(e){var t=e.features,a=e.languages,n=e.setSearch;return s.a.createElement("div",null,s.a.createElement(N,null),s.a.createElement(w,{features:t,feature_ids:[],languages:a,language_ids:[],setSearch:n}))},S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onEmailChange=function(e){a.setState({email:e.target.value})},a.onPasswordChange=function(e){a.setState({password:e.target.value})},a.onSignInSubmit=function(e){a.state.email&&a.state.password&&fetch("https://codeswitch-api.herokuapp.com/signin",{body:JSON.stringify(a.state),headers:{"Content-Type":"application/json"},method:"post"}).then(function(e){return e.json()}).then(function(e){e.id?a.props.setUser(e):alert("Ooops! Login failed.")}).catch(function(e){return alert("Doh! Network error.")})},a.state={email:"",password:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.setRoute;return s.a.createElement("div",null,s.a.createElement("main",{className:"pa4 black-80"},s.a.createElement("div",{className:"measure center"},s.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},s.a.createElement("h1",{className:"night"},"sign in"),s.a.createElement("div",{className:"mt3 night"},s.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),s.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",id:"email",name:"email",onChange:this.onEmailChange,type:"email"})),s.a.createElement("div",{className:"mv3 night"},s.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),s.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",id:"password",name:"password",onChange:this.onPasswordChange,type:"password"}))),s.a.createElement("div",null,s.a.createElement("input",{className:"b ba bw0 bg-white day f4 dib grow input-reset ph3 pointer pv2",onClick:this.onSignInSubmit,value:"sign in",type:"submit"})),s.a.createElement("div",{className:"mt4 tc"},s.a.createElement("button",{onClick:function(){e("signup")},className:"bn center db dim f6 mt3 grow link night underline white-50"},"sign up")))))}}]),t}(s.a.Component),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onUsernameChange=function(e){a.setState({username:e.target.value})},a.onEmailChange=function(e){a.setState({email:e.target.value})},a.onPasswordChange=function(e){a.setState({password:e.target.value})},a.onPasswordConfirmChange=function(e){a.setState({password_confirm:e.target.value})},a.onSubmit=function(){var e=a.state,t=e.email,n=e.password,s=e.password_confirm,r=e.username;if(t&&n&&s&&r){var o=[];n!==s&&o.push("Ooops! Passwords don't match."),0===o.length?fetch("https://codeswitch-api.herokuapp.com/signup",{body:JSON.stringify(a.state),headers:{"Content-Type":"application/json"},method:"post"}).then(function(e){return e.json()}).then(function(e){e.id?a.props.setUser(e):alert("Doh!\n"+e.join("\n"))}).catch(function(e){return alert("Doh! Network error.")}):alert(o)}},a.state={email:"",password:"",password_confirm:"",username:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("main",{className:"pa4 black-80"},s.a.createElement("div",{className:"measure center"},s.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},s.a.createElement("h1",{className:"night"},"sign up"),s.a.createElement("div",{className:"mt3 night"},s.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Username"),s.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",id:"username",onChange:this.onUsernameChange,name:"username",placeholder:'"john"',type:"text"})),s.a.createElement("div",{className:"mt3 night"},s.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),s.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",id:"email",name:"email",onChange:this.onEmailChange,placeholder:'"john@example.com"',type:"email"})),s.a.createElement("div",{className:"mv3 night"},s.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),s.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",id:"password",name:"password",onChange:this.onPasswordChange,type:"password"})),s.a.createElement("div",{className:"mv3 night"},s.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password Confirmation"),s.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",id:"password-confirm",name:"password-confirm",onChange:this.onPasswordConfirmChange,type:"password"}))),s.a.createElement("div",null,s.a.createElement("input",{className:"b ba bw0 bg-white day f4 dib grow input-reset ph3 pointer pv2",onClick:this.onSubmit,type:"submit",value:"sign up"})))))}}]),t}(n.Component),_=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).getContent=function(){return"codeSampleForm"===e.state.route?s.a.createElement(p,{features:e.state.features,languages:e.state.languages,setRoute:e.setRoute,user:e.state.user}):"featureForm"===e.state.route?s.a.createElement(d,{onFeatureSubmit:e.onFeatureSubmit,setRoute:e.setRoute,user:e.state.user}):"languageForm"===e.state.route?s.a.createElement(h,{onLanguageSubmit:e.onLanguageSubmit,setRoute:e.setRoute,user:e.state.user}):"start"===e.state.route?s.a.createElement(y,{features:e.state.features,feature_ids:e.state.feature_ids,languages:e.state.languages,language_ids:e.state.language_ids,setSearch:e.setSearch}):"signin"===e.state.route?s.a.createElement(S,{setUser:e.setUser,setRoute:e.setRoute}):"signup"===e.state.route?s.a.createElement(k,{setUser:e.setUser}):"search"===e.state.route?s.a.createElement(C,{features:e.state.features,feature_ids:e.state.feature_ids,languages:e.state.languages,language_ids:e.state.language_ids,setRoute:e.setRoute,setSearch:e.setSearch,user:e.state.user,usernames:e.state.usernames}):s.a.createElement("div",null,"Unknown Route")},e.onHomeClick=function(){e.setState({route:"start"})},e.onLanguageSubmit=function(t,a){t&&(a?fetch("https://codeswitch-api.herokuapp.com/languages",{body:JSON.stringify({name:t}),headers:{"Content-Type":"application/json"},method:"post"}).then(function(e){return e.json()}).then(function(t){t.id?(e.setState({languages:[]}),e.setRoute("start")):alert("Ooops! Server couldn't post new language.")}).catch(function(e){return alert("Server can't be reached.")}):alert("Ooops! Please sign in or sign up first."))},e.onFeatureSubmit=function(t,a,n){t&&a&&(n?fetch("https://codeswitch-api.herokuapp.com/features",{body:JSON.stringify({name:t,description:a}),headers:{"Content-Type":"application/json"},method:"post"}).then(function(e){return e.json()}).then(function(t){t.id?(e.setState({features:[]}),e.setRoute("start")):alert("Ooops! Server couldn't post new feature.")}).catch(function(e){return alert("Server can't be reached.")}):alert("Ooops! Please sign in or sign up first."))},e.setRoute=function(t){e.setState({last_route:e.state.route,route:t})},e.setLastRoute=function(){e.route!==e.last_route&&e.setState({route:e.state.last_route})},e.setSearch=function(t,a){e.setState({feature_ids:t,language_ids:a,route:"search"})},e.setUser=function(t){e.setState({route:"search",user:t})},e.state={errors:[],features:[],feature_ids:[],languages:[],language_ids:[],last_route:"start",route:"start",user:null,usernames:[]},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchLanguages(),this.fetchFeatures(),this.fetchUsernames()}},{key:"componentDidUpdate",value:function(e,t){this.state.languages.length!==t.languages.length&&this.fetchLanguages(),this.state.features.length!==t.features.length&&this.fetchFeatures()}},{key:"fetchFeatures",value:function(){var e=this;fetch("https://codeswitch-api.herokuapp.com/features").then(function(e){return e.json()}).then(function(t){return e.setState({features:t})}).catch(function(e){return alert("Server couldn't retrieve features.")})}},{key:"fetchLanguages",value:function(){var e=this;fetch("https://codeswitch-api.herokuapp.com/languages").then(function(e){return e.json()}).then(function(t){return e.setState({languages:t})}).catch(function(e){return alert("Server couldn't retrieve languages.")})}},{key:"fetchUsernames",value:function(){var e=this;fetch("https://codeswitch-api.herokuapp.com/usernames").then(function(e){return e.json()}).then(function(t){return e.setState({usernames:t})}).catch(function(e){return alert("Server couldn't usernames.")})}},{key:"render",value:function(){return s.a.createElement("div",{className:"tc"},s.a.createElement(g,{onHomeClick:this.onHomeClick,setRoute:this.setRoute,setUser:this.setUser,user:this.state.user}),this.getContent())}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){e.exports=a(17)}},[[8,2,1]]]);
//# sourceMappingURL=main.46b4281e.chunk.js.map